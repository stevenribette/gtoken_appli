<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <link href="css/index.css" rel="stylesheet">
        <script type="text/javascript" src="js/index.js"></script>

        <script src="cordova.js"></script>
        <script src="cordova_plugins.js"></script>

        <script src="bootstrap/js/jquery.js"></script>
        <script src="bootstrap/js/bootstrap.min.js"></script>
        <link href="bootstrap/css/bootstrap.css" rel="stylesheet">

        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <title>Gtoken</title>
    </head>
    <body onload="init();">
        <nav class="navbar navbar-inverse" style="margin-bottom:0;display:none;" id="navbar-menu">
            <div class="col-xs-12">
                <div class="col-xs-3"><i class="material-icons" id="dehaze" onclick="menuGo()">dehaze</i></div>
                <div class="col-xs-9" style="text-align:right"><i class="material-icons" id="search" onclick="loadView(this.id)">search</i></div>
            </div>
        </nav>
        <div class="app">
            <div id="menu" style="display:none;">
            </div>
            <div id="centralApp">
                <h1>Gtoken</h1>
            </div>
        </div>
    </body>
    <script>
        function initMenu(){
            menu = new menuComponent;
            menu.template();
        }
        function initStorage(){
            storage = window.localStorage;
            stor = new storageService;
        }
        function initDb(){
            db = new dbService;

        }
        function initUser(){
            user = new userComponent;
        }
        function initLogin(){
            loginComponent = new loginComponent;
            loginComponent.retrieveUser();
        }
        function initProjectSection(){
            projectSectionComponent = new projectSectionComponent;
            projectListComponent = new projectListComponent;
            projectComponent = new projectComponent;
        }
        function initMeetSection(){
            meetSectionComponent = new meetSectionComponent;
            meetListComponent = new meetListComponent;
        }
        function initSkillSection(){
            skillSectionComponent = new skillSectionComponent;
            skillListComponent = new skillListComponent;
        }
        function initAccount(){
            accountComponent = new accountComponent;
        }
        function initUserList(type){
            userListComponent = new userListComponent(type);
        }
        function init(){
            loadScript("src/service/db.js", initDb);
            loadScript("src/service/storage.js", initStorage);
            
            setTimeout(function(){
                loadScript("src/user/user.js", initUser);
                
                loadScript("src/project-section/project/project.js", nothing);
                loadScript("src/project-section/project-list/project-list.js", nothing);
                loadScript("src/project-section/project-section.js", initProjectSection);
                
                loadScript("src/meet-section/meet/meet.js", nothing);
                loadScript("src/meet-section/meet-list/meet-list.js", nothing);
                loadScript("src/meet-section/meet-section.js", initMeetSection);

                loadScript("src/skill-section/skill/skill.js", nothing);
                loadScript("src/skill-section/skill-list/skill-list.js", nothing);
                loadScript("src/skill-section/skill-section.js", initSkillSection);

                loadScript("src/account/account.js", initAccount);

                loadScript("src/user-list/user-list.js", nothing);

                loadScript("src/search/search.js", nothing);

                loadScript("src/login/login.js", initLogin);

                loadScript("src/menu/menu.js", initMenu);
            }, 100);
            
        }
        function nothing(){

        }
    </script>
</html>
